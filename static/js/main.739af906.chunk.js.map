{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/helper/cartHelper.js","core/helper/coreapicalls.js","core/FilterCard.js","core/Home.js","core/Card2.js","core/Home2.js","user/Register.js","user/Login.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashboard.js","user/AdminDashboard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/ManageProducts.js","admin/AddProduct.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/StripeCheckout.js","core/PaymentB.js","core/helper/paymentbhelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","logout","push","Base","title","description","children","ImageHelper","product","imageURL","_id","undefined","src","alt","height","width","addItemToCart","item","cart","count","setItem","stringify","removeItemFromCart","productId","map","i","splice","getAllProducts","json","FilterCard","buttonLabel","setButtonLabel","useState","dropdownOpen","setDropdownOpen","Dropdown","isOpen","toggle","prevState","DropdownToggle","caret","DropdownMenu","DropdownItem","header","divider","Home","Card","addToCart","removeFromCart","reload","setReload","setRedirect","cardTitle","name","cardDescription","cardPrice","price","addProductToCart","showAddToCart","showRemoveFromCart","Home2","props","products","setProducts","setError","useEffect","data","error","foundProducts","index","key","Card2","Register","fName","lName","email","password","success","values","setValues","handleChange","fieldName","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","type","onChange","Login","loading","didRedirect","login","authenticate","performRedirect","AdminRoute","Component","component","rest","render","state","from","PrivateRoute","UserDashboard","AdminDashboard","getAllCategories","AddCategory","categoryName","setCategoryName","setSuccess","token","handleSubmit","userId","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","foundCategories","deleteOneCategory","categoryId","deleteCategory","category","ManageProducts","deleteOneProduct","deleteProduct","length","AddProduct","stock","photo","createdProduct","formData","FormData","files","set","productDetails","createProduct","accept","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","updatedProduct","UpdateCategory","getCategory","updateCategory","StripeCheckoutComponent","PaymentB","clientToken","instance","info","setInfo","getToken","fetchPaymentToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","emptyOutCart","options","authorization","onInstance","Cart","loadCart","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.739af906.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND","import {API} from \"../../backend\";\r\n\r\nexport const register = user => {\r\n    return fetch(`${API}/register`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const login = user => {\r\n    return fetch(`${API}/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const logout = next => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"jwt\")\r\n        next()\r\n\r\n        return fetch(`${API}/logout`, {\r\n            method: \"GET\"\r\n        })\r\n            .then(response => console.log(\"logout success: \", response))\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == \"undefined\") {\r\n        return false\r\n    }\r\n    if (localStorage.getItem(\"jwt\")) {\r\n        return JSON.parse(localStorage.getItem(\"jwt\"))\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport {Link, withRouter} from \"react-router-dom\"\r\nimport {isAuthenticated, logout} from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return {color: \"#2ECC72\"}\r\n    } else {\r\n        return {color: \"#FFFFFF\"}\r\n    }\r\n}\r\n\r\nfunction Menu({history}) {\r\n    return (\r\n        <div>\r\n            <ul className=\"nav nav-tabs bg-dark\">\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        style={currentTab(history, \"/\")}\r\n                        className=\"nav-link\"\r\n                        to={\"/\"}\r\n                    >\r\n                        Home\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        style={currentTab(history, \"/cart\")}\r\n                        className=\"nav-link\"\r\n                        to={\"/cart\"}\r\n                    >\r\n                        Cart\r\n                    </Link>\r\n                </li>\r\n                {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            style={currentTab(history, \"/user/dashboard\")}\r\n                            className=\"nav-link\" to={\"/user/dashboard\"}\r\n                        >\r\n                            Dashboard\r\n                        </Link>\r\n                    </li>\r\n                )}\r\n                {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            style={currentTab(history, \"/admin/dashboard\")}\r\n                            className=\"nav-link\"\r\n                            to={\"/admin/dashboard\"}\r\n                        >\r\n                            Admin Dashboard\r\n                        </Link>\r\n                    </li>\r\n                )}\r\n                {!isAuthenticated() && (\r\n                    <Fragment>\r\n                        <li className=\"nav-item\">\r\n                            <Link\r\n                                style={currentTab(history, \"/register\")}\r\n                                className=\"nav-link\"\r\n                                to={\"/register\"}\r\n                            >\r\n                                Register\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link\r\n                                style={currentTab(history, \"/login\")}\r\n                                className=\"nav-link\"\r\n                                to={\"/login\"}\r\n                            >\r\n                                Login\r\n                            </Link>\r\n                        </li>\r\n                    </Fragment>\r\n                )}\r\n                {isAuthenticated() && (\r\n                    <li className=\"nav-item\">\r\n                        <span\r\n                            className={\"nav-link text-warning\"}\r\n                            onClick={() => {\r\n                                logout(() => {\r\n                                    history.push(\"/\")\r\n                                })\r\n                            }}\r\n                        >\r\n                            Logout\r\n                        </span>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(Menu);","import React from 'react';\r\nimport Menu from \"./Menu\";\r\n\r\nfunction Base({\r\n                  title = \"My Title\",\r\n                  description = \"My Description\",\r\n                  className = \"bg-dark text-white p-4\",\r\n                  children\r\n              }) {\r\n    return (\r\n        <div>\r\n            <Menu/>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"jumbotron bg-dark text-white text-center\">\r\n                    <h2 className=\"display-4\">\r\n                        {title}\r\n                    </h2>\r\n                    <p className=\"lead\">\r\n                        {description}\r\n                    </p>\r\n                </div>\r\n                <div className={className} style={{\"min-height\": \"100vh\"}}>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n            <footer className=\"footer bg-dark mt-auto py-3\">\r\n                <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n                    <h4>If you got any questions, feel free to reach out!</h4>\r\n                    <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <span className=\"text-muted\">\r\n                        An amazing <span className=\"text-white\">MERN</span> Portfolio Project!\r\n                    </span>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Base;","import React from 'react';\r\nimport {API} from \"../../backend\";\r\n\r\n\r\nfunction ImageHelper({product}) {\r\n    const imageURL = product\r\n        ? `${API}/product/photo/${product._id}`\r\n        : undefined\r\n\r\n    return (\r\n        <div className=\"rounded border border-success p-2\">\r\n            <img\r\n                src={imageURL}\r\n                alt=\"photo\"\r\n                style={{ height: \"100%\", width: \"100%\" }}\r\n                className=\"mb-3 rounded\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageHelper;","export const addItemToCart = (item, next) => {\r\n    let cart = []\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.push({...item, count: 1})\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const loadCart = () => {\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            return JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n    let cart = []\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.map((product, i) => {\r\n            if (product._id === productId) {\r\n                cart.splice(i, 1)\r\n            }\r\n        })\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n    }\r\n    return cart\r\n}\r\n\r\nexport const emptyOutCart = (next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"cart\")\r\n        let cart = []\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n        next()\r\n    }\r\n}\r\n","import {API} from \"../../backend\";\r\n\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/products`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}","import React, {useState} from 'react';\r\nimport {Dropdown, DropdownToggle, DropdownMenu, DropdownItem} from \"reactstrap\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\n\r\nfunction FilterCard({buttonLabel, setButtonLabel}) {\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n\r\n    const toggle = () => setDropdownOpen(prevState => !prevState);\r\n\r\n    return (\r\n        <div className={\"card text-white bg-dark border border-info\"}>\r\n            <div className=\"card-header lead\">\r\n                Filter your results\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n                    <DropdownToggle className={\"btn btn-success\"} caret>\r\n                        {buttonLabel}\r\n                    </DropdownToggle>\r\n                    <DropdownMenu>\r\n                        <DropdownItem header>Select Price Range</DropdownItem>\r\n                        <DropdownItem onClick={() => {\r\n                            setButtonLabel(\"Below $10\")\r\n                        }}>Below $10</DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem onClick={() => {\r\n                            setButtonLabel(\"$10 - $30\")\r\n                        }}>$10 - $30</DropdownItem>\r\n                        <DropdownItem onClick={() => {\r\n                            setButtonLabel(\"Above $30\")\r\n                        }}>Above $30</DropdownItem>\r\n                        <DropdownItem onClick={() => {\r\n                            setButtonLabel(\"No filters selected\")\r\n                        }}>Remove all filters</DropdownItem>\r\n                    </DropdownMenu>\r\n                </Dropdown>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilterCard;","import React, {useEffect, useState} from 'react';\r\nimport {API} from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport {getAllProducts} from \"./helper/coreapicalls\";\r\nimport FilterCard from \"./FilterCard\";\r\n\r\nfunction Home(props) {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(undefined);\r\n    const [buttonLabel, setButtonLabel] = useState(\"Default\");\r\n\r\n    const loadAllProducts = () => {\r\n        getAllProducts()\r\n            .then(data => {\r\n                if (data) {\r\n                    if (data.error) {\r\n                        setError(data.error)\r\n                    } else {\r\n                        setProducts(data.foundProducts)\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    }, [buttonLabel]);\r\n\r\n\r\n    return (\r\n        <Base title={\"Home Page\"} description={\"Welcome to the T-Shirt store\"}>\r\n            <div className=\"row text-center\">\r\n                <div className=\"col-2\">\r\n                    <h3>Filter results</h3>\r\n                    <FilterCard buttonLabel={buttonLabel} setButtonLabel={setButtonLabel}/>\r\n                </div>\r\n                <div className=\"col-10\">\r\n                    <h1 className=\"text-white\">All available T-Shirts</h1>\r\n                    <div className=\"row\">\r\n                        {products.map((product, index) => {\r\n                            switch (buttonLabel) {\r\n                                case \"Below $10\":\r\n                                    return (\r\n                                        <div className=\"col-4 mb-4\" key={index}>\r\n                                            {\r\n                                                product.price < 10\r\n                                                    ? <Card product={product.price < 10 ? product : undefined}/>\r\n                                                    : undefined\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                case \"$10 - $30\":\r\n                                    return (\r\n                                        <div className=\"col-4 mb-4\" key={index}>\r\n                                            {\r\n                                                (product.price >= 10 && product.price < 30)\r\n                                                    ? <Card product={\r\n                                                        (product.price >= 10 && product.price < 30)\r\n                                                            ? product\r\n                                                            : undefined\r\n                                                    }/>\r\n                                                    : undefined\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                case \"Above $30\":\r\n                                    return (\r\n                                        <div className=\"col-4 mb-4\" key={index}>\r\n                                            {\r\n                                                product.price > 30\r\n                                                    ? <Card product={product.price > 30 ? product : undefined}/>\r\n                                                    : undefined\r\n                                            }\r\n                                        </div>\r\n                                    )\r\n                                default:\r\n                                    return (\r\n                                        <div className=\"col-4 mb-4\" key={index}>\r\n                                            <Card product={product}/>\r\n                                        </div>\r\n                                    )\r\n                            }\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, {useState} from 'react';\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport {Redirect} from \"react-router-dom\"\r\nimport {addItemToCart, removeItemFromCart} from \"./helper/cartHelper\";\r\n\r\nconst Card = ({\r\n                  product,\r\n                  addToCart = true,\r\n                  removeFromCart = false,\r\n                  reload,\r\n                  setReload\r\n              }) => {\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [count, setCount] = useState(product ? product.count : 0);\r\n\r\n    const cardTitle = product ? product.name : undefined\r\n    const cardDescription = product ? product.description : undefined\r\n    const cardPrice = product ? product.price : undefined\r\n\r\n    const addProductToCart = () => {\r\n        addItemToCart(product, () => {\r\n            setRedirect(true)\r\n        })\r\n    }\r\n\r\n    const getRedirected = (redirect) => {\r\n        if (redirect) {\r\n            return <Redirect to={\"/cart\"}/>\r\n        }\r\n    }\r\n\r\n    const showAddToCart = (addToCart) => {\r\n        return (\r\n            addToCart && (\r\n                <button\r\n                    onClick={addProductToCart}\r\n                    className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n                >\r\n                    Add to Cart\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    const showRemoveFromCart = (removeFromCart) => {\r\n        return (\r\n            removeFromCart && (\r\n                <button\r\n                    onClick={() => {\r\n                        removeItemFromCart(product._id)\r\n                        setReload(!reload)\r\n                    }}\r\n                    className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n                >\r\n                    Remove from cart\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"card-container-parent\">\r\n            <div className=\"card-container\">\r\n\r\n                <div className=\"card-container__image-column\">\r\n                    <ImageHelper product={product ? product : undefined}/>\r\n                    <div className=\"card-container__product-name\">\r\n                        {cardTitle}\r\n                    </div>\r\n                </div>\r\n\r\n                <p className=\"card-container__product-description\">\r\n                    {cardDescription}\r\n                </p>\r\n\r\n                <p className=\"card-container__product-price\">\r\n                    $ {cardPrice}\r\n                </p>\r\n\r\n                <div className=\"card-container__add-or-remove-item\">\r\n                    <div className=\"col-12\">\r\n                        {showAddToCart(addToCart)}\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        {showRemoveFromCart(removeFromCart)}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <hr/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;","import React, {useState, useEffect} from 'react';\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport Card2 from \"./Card2\";\r\nimport {getAllProducts} from \"./helper/coreapicalls\";\r\nimport FilterCard from \"./FilterCard\";\r\n\r\nfunction Home2(props) {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(undefined);\r\n    const [buttonLabel, setButtonLabel] = useState(\"Default\");\r\n\r\n    const loadAllProducts = () => {\r\n        getAllProducts()\r\n            .then(data => {\r\n                if (data) {\r\n                    if (data.error) {\r\n                        setError(data.error)\r\n                    } else {\r\n                        setProducts(data.foundProducts)\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadAllProducts()\r\n    }, [buttonLabel]);\r\n\r\n\r\n    return (\r\n        <Base title={\"Home Page\"} description={\"Welcome to the E-Commerce Store\"}>\r\n            <div className=\"home-container\">\r\n                <div className=\"sidebar\">\r\n                    <h3 style={{\"text-align\": \"center\"}}>Filter results</h3>\r\n                    <FilterCard buttonLabel={buttonLabel} setButtonLabel={setButtonLabel}/>\r\n                </div>\r\n\r\n                <div className=\"home-content\">\r\n                    <hr/>\r\n                    {products.map((product, index) => {\r\n                        switch (buttonLabel) {\r\n                            case \"Below $10\":\r\n                                return (\r\n                                    <div className=\"mb-4\" key={index}>\r\n                                        {\r\n                                            product.price < 10\r\n                                                ? <Card2 product={product.price < 10 ? product : undefined}/>\r\n                                                : undefined\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            case \"$10 - $30\":\r\n                                return (\r\n                                    <div className=\"mb-4\" key={index}>\r\n                                        {\r\n                                            (product.price >= 10 && product.price < 30)\r\n                                                ? <Card2 product={\r\n                                                    (product.price >= 10 && product.price < 30)\r\n                                                        ? product\r\n                                                        : undefined\r\n                                                }/>\r\n                                                : undefined\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            case \"Above $30\":\r\n                                return (\r\n                                    <div className=\"mb-4\" key={index}>\r\n                                        {\r\n                                            product.price > 30\r\n                                                ? <Card2 product={product.price > 30 ? product : undefined}/>\r\n                                                : undefined\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            default:\r\n                                return (\r\n                                    <div className=\"mb-4\" key={index}>\r\n                                        <Card2 product={product}/>\r\n                                    </div>\r\n                                )\r\n                        }\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default Home2;","import React, {useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {register} from \"../auth/helper\";\r\n\r\nfunction Register(props) {\r\n    const [values, setValues] = useState({\r\n        fName: \"\",\r\n        lName: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    });\r\n\r\n    const {fName, lName, email, password, error, success} = values\r\n\r\n    const handleChange = fieldName => event => {\r\n        setValues({...values, error: \"\", [fieldName]: event.target.value})\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, error: \"\"})\r\n        register({fName, lName, email, password})\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({...values, error: data.error, success: false})\r\n                } else {\r\n                    setValues(\r\n                        {\r\n                            ...values,\r\n                            fName: \"\",\r\n                            lName: \"\",\r\n                            email: \"\",\r\n                            password: \"\",\r\n                            error: \"\",\r\n                            success: true\r\n                        }\r\n                    )\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error in registration\", err)\r\n            })\r\n    }\r\n\r\n    const registrationForm = () => {\r\n        return (\r\n            <div className={\"row\"}>\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                First Name\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"text\" onChange={handleChange(\"fName\")}\r\n                                value={fName}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                Last Name\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"text\" onChange={handleChange(\"lName\")}\r\n                                value={lName}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                Email\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"email\"\r\n                                onChange={handleChange(\"email\")}\r\n                                value={email}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                Password\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"password\"\r\n                                onChange={handleChange(\"password\")}\r\n                                value={password}\r\n                            />\r\n                        </div>\r\n                        <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n                            Register\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div className={\"row\"}>\r\n                <div className={\"col-md-6 offset-sm-3 text-left\"}>\r\n                    <div\r\n                        className=\"alert alert-success\"\r\n                        style={{display: success ? \"\" : \"none\"}}\r\n                    >\r\n                        Registration Successful. Please <Link to={\"/login\"}>Login Here</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className={\"row\"}>\r\n                <div className={\"col-md-6 offset-sm-3 text-left\"}>\r\n                    <div\r\n                        className=\"alert alert-danger\"\r\n                        style={{display: error ? \"\" : \"none\"}}\r\n                    >\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title={\"Registration Page\"} description={\"A page for user to register!\"}>\r\n            {successMessage()}\r\n            {errorMessage()}\r\n            {registrationForm()}\r\n            <p className=\"text-white text-center\">\r\n                {JSON.stringify(values)}\r\n            </p>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default Register;","import React, {useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nimport {login, authenticate, isAuthenticated} from \"../auth/helper\";\r\n\r\nfunction Login(props) {\r\n    const [values, setValues] = useState({\r\n        email: \"admin@nikhil.com\",\r\n        password: \"123456\",\r\n        error: \"\",\r\n        loading: false,\r\n        didRedirect: false\r\n    });\r\n\r\n    const {email, password, error, loading, didRedirect} = values\r\n\r\n    const {user} = isAuthenticated()\r\n\r\n    const handleChange = fieldName => event => {\r\n        setValues({...values, error: \"\", [fieldName]: event.target.value})\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault()\r\n        setValues({...values, error: \"\", loading: true})\r\n        login({email, password})\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({...values, error: data.error, loading: false})\r\n                } else {\r\n                    authenticate(data, () => {\r\n                        setValues({\r\n                            ...values,\r\n                            email: \"\",\r\n                            password: \"\",\r\n                            didRedirect: true\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Failed to login\", err)\r\n            })\r\n    }\r\n\r\n    const performRedirect = () => {\r\n        if (didRedirect) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to={\"/admin/dashboard\"}/>\r\n            } else {\r\n                return <Redirect to={\"/user/dashboard\"}/>\r\n            }\r\n        }\r\n    }\r\n\r\n    const loginForm = () => {\r\n        return (\r\n            <div className={\"row\"}>\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                Email\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"email\"\r\n                                onChange={handleChange(\"email\")}\r\n                                value={email}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">\r\n                                Password\r\n                            </label>\r\n                            <input\r\n                                className={\"form-control\"}\r\n                                type=\"password\"\r\n                                onChange={handleChange(\"password\")}\r\n                                value={password}\r\n                            />\r\n                        </div>\r\n                        <button\r\n                            className=\"btn btn-success btn-block\"\r\n                            onClick={onSubmit}\r\n                        >\r\n                            Login\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loadingMessage = () => {\r\n        return (\r\n            loading && (\r\n                <div className={\"alert alert-info\"}>\r\n                    <h2>Loading...</h2>\r\n                </div>\r\n            )\r\n        )\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className={\"row\"}>\r\n                <div className={\"col-md-6 offset-sm-3 text-left\"}>\r\n                    <div\r\n                        className=\"alert alert-danger\"\r\n                        style={{display: error ? \"\" : \"none\"}}\r\n                    >\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title={\"Login Page\"} description={\"A page for user to login!\"}>\r\n            {loadingMessage()}\r\n            {errorMessage()}\r\n            {loginForm()}\r\n            {performRedirect()}\r\n            <p className={\"text-white text-center\"}>{JSON.stringify(values)}</p>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {Route, Redirect} from \"react-router-dom\"\r\nimport {isAuthenticated} from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props =>\r\n                isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n                    <Component {...props}/>\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/login\",\r\n                            state: { from: props.location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default AdminRoute","import React from \"react\";\r\nimport {Route, Redirect} from \"react-router-dom\"\r\nimport {isAuthenticated} from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props =>\r\n                isAuthenticated() ? (\r\n                    <Component {...props}/>\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/login\",\r\n                            state: { from: props.location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default PrivateRoute","import React from 'react';\r\nimport Base from \"../core/Base\";\r\n\r\nfunction UserDashboard(props) {\r\n    return (\r\n        <Base\r\n            title={\"User Dashboard\"}\r\n            description={\"User Dashboard description\"}\r\n        >\r\n            This is User dashboard\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default UserDashboard;","import React from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction AdminDashboard(props) {\r\n    const {user : {fName, lName, email, role}} = isAuthenticated()\r\n\r\n    const adminLeftSide = () => {\r\n        return(\r\n            <div className={\"card\"}>\r\n                <h4 className=\"card-header bg-dark text-white\">\r\n                    Admin Navigation\r\n                </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link to={\"/admin/create/category\"} className={\"nav-link text-success\"}>\r\n                            Create Categories\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to={\"/admin/categories\"} className={\"nav-link text-success\"}>\r\n                            Manage Categories\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to={\"/admin/create/product\"} className={\"nav-link text-success\"}>\r\n                            Create Products\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to={\"/admin/products\"} className={\"nav-link text-success\"}>\r\n                            Manage Products\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to={\"/admin/orders\"} className={\"nav-link text-success\"}>\r\n                            Manage Orders\r\n                        </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const adminRightSide = () => {\r\n        return(\r\n            <div className=\"card mb-4\">\r\n                <h4 className=\"card-header\">\r\n                    Admin Information\r\n                </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <span className=\"badge badge-success mr-2\">\r\n                            Name:\r\n                        </span>\r\n                        {`${fName} ${lName}`}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <span className=\"badge badge-success mr-2\">\r\n                            Email:\r\n                        </span>\r\n                        {`${email}`}\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <span className=\"badge badge-danger mr-2\">\r\n                            Admin Privileges:\r\n                        </span>\r\n                        Granted\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base\r\n            className={\"container bg-success p-4\"}\r\n            title={\"Welcome to Admin Area\"}\r\n            description={\"Manage all of your products here.\"}\r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {adminLeftSide()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {adminRightSide()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default AdminDashboard;","import {API} from \"../../backend\";\r\n\r\n// CATEGORY CALLS\r\n\r\n//Create a category\r\nexport const createCategory = (userId, token, categoryName) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(categoryName)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Get a category\r\nexport const getCategory = (categoryId) => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Get all categories\r\nexport const getAllCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\",\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Update a category\r\nexport const updateCategory = (categoryId, userId, token, categoryName) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(categoryName)\r\n    })\r\n        .then(response => {\r\n            console.log(\"Admin API call\", response)\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Admin API call\", err)\r\n        })\r\n}\r\n\r\n// Delete a category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// PRODUCT CALLS\r\n\r\n// Create a product\r\nexport const createProduct = (userId, token, productDetails) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: productDetails\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Get all products\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/products`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Get a product\r\nexport const getProduct = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\n// Update a product\r\nexport const updateProduct = (productId, userId, token, productDetails) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: productDetails\r\n    })\r\n        .then(response => {\r\n            console.log(\"Admin API call\", response)\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Admin API call\", err)\r\n        })\r\n}\r\n\r\n// Delete a product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n","import React, {useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {createCategory} from \"./helper/adminapicall\";\r\n\r\nfunction AddCategory(props) {\r\n    const [categoryName, setCategoryName] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const goBack = () => {\r\n        return (\r\n            <div className=\"mt-5\">\r\n                <Link to={\"/admin/dashboard\"} className={\"btn btn-sm btn-success mb-3\"}>\r\n                    Admin Home\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setError(\"\")\r\n        setCategoryName(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setError(\"\")\r\n        setSuccess(false)\r\n\r\n        // Backend request firing\r\n        createCategory(_id, token, {name: categoryName})\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error)\r\n                } else {\r\n                    setError(\"\")\r\n                    setSuccess(true)\r\n                    setCategoryName(\"\")\r\n                }\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if (success) {\r\n            return (\r\n                <h4 className=\"text-success\">\r\n                    Category created successfully\r\n                </h4>\r\n            )\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if (error) {\r\n            return (\r\n                <h4 className={\"text-warning\"}>\r\n                    {`Failed to create category: ${error}`}\r\n                </h4>\r\n            )\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => {\r\n        return (\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <p className=\"lead\">\r\n                        Enter a name for your category.\r\n                    </p>\r\n                    <input\r\n                        type=\"text\"\r\n                        className={\"form-control my-3\"}\r\n                        onChange={handleChange}\r\n                        value={categoryName}\r\n                        autoFocus\r\n                        required\r\n                        placeholder={\"For e.g. Summer\"}\r\n                    />\r\n                    <button\r\n                        className=\"btn btn-outline-info\"\r\n                        onClick={handleSubmit}\r\n                    >\r\n                        Create Category\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base\r\n            title={\"Create a category here\"}\r\n            description={\"Add a new T-shirt category\"}\r\n            className={\"container bg-info p-4\"}\r\n        >\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {myCategoryForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default AddCategory;","import React, {useEffect, useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {deleteCategory, getAllCategories} from \"./helper/adminapicall\";\r\n\r\nfunction ManageCategories(props) {\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const preload = () => {\r\n        getAllCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error)\r\n                } else {\r\n                    console.log(data)\r\n                    setCategories(data.foundCategories)\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, []);\r\n\r\n    const deleteOneCategory = categoryId => {\r\n        deleteCategory(categoryId, _id, token)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(\"deleteOneCategory\", data.error)\r\n                } else {\r\n                    preload()\r\n                }\r\n            })\r\n            .catch()\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage categories here\">\r\n            <h2 className=\"mb-4\">All products:</h2>\r\n            <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n                <span className=\"\">Admin Home</span>\r\n            </Link>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n                    {categories.map((category, index) => {\r\n                        return (\r\n                            <div key={index} className=\"row text-center mb-2 \">\r\n                                <div className=\"col-4\">\r\n                                    <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-success\"\r\n                                        to={`/admin/category/update/${category._id}`}\r\n                                    >\r\n                                        <span\r\n                                            className=\"\"\r\n                                        >\r\n                                            Update\r\n                                        </span>\r\n                                    </Link>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <button onClick={() => {\r\n                                        deleteOneCategory(category._id)\r\n                                    }} className=\"btn btn-danger\">\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default ManageCategories;","import React, {useEffect, useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {deleteProduct, getAllProducts} from \"./helper/adminapicall\";\r\n\r\nfunction ManageProducts(props) {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const preload = () => {\r\n        getAllProducts()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error)\r\n                } else {\r\n                    console.log(data)\r\n                    setProducts(data.foundProducts)\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, []);\r\n\r\n    const deleteOneProduct = productId => {\r\n        deleteProduct(productId, _id, token)\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.log(data.error)\r\n                } else {\r\n                    preload()\r\n                }\r\n            })\r\n            .catch()\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n            <h2 className=\"mb-4\">All products:</h2>\r\n            <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n                <span className=\"\">Admin Home</span>\r\n            </Link>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center text-white my-3\">Total {products.length} products</h2>\r\n\r\n                    {products.map((product, index) => {\r\n                        return (\r\n                            <div key={index} className=\"row text-center mb-2 \">\r\n                                <div className=\"col-4\">\r\n                                    <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-success\"\r\n                                        to={`/admin/product/update/${product._id}`}\r\n                                    >\r\n                                        <span\r\n                                            className=\"\"\r\n                                        >\r\n                                            Update\r\n                                        </span>\r\n                                    </Link>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <button onClick={() => {\r\n                                        deleteOneProduct(product._id)\r\n                                    }} className=\"btn btn-danger\">\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default ManageProducts;","import React, {useEffect, useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {createProduct, getAllCategories} from \"./helper/adminapicall\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\n\r\n\r\nfunction AddProduct(props) {\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        stock: \"\",\r\n        photo: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        loading: false,\r\n        error: undefined,\r\n        createdProduct: undefined,\r\n        didRedirect: false,\r\n        formData: undefined\r\n    });\r\n\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        stock,\r\n        photo,\r\n        categories,\r\n        category,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        didRedirect,\r\n        formData\r\n    } = values\r\n\r\n    const preload = () => {\r\n        getAllCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({...values, error: data.error})\r\n            } else {\r\n                setValues({...values, categories: data.foundCategories, formData: new FormData()})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, []);\r\n\r\n    const handleChange = (key) => event => {\r\n        const value = key === \"photo\" ? event.target.files[0] : event.target.value\r\n        formData.set(key, value)\r\n        setValues({...values, [key]: value})\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({...values, error: \"\", loading: true})\r\n        createProduct(_id, token, formData)\r\n            .then(data => {\r\n                console.log(data)\r\n                if (data.error) {\r\n                    setValues({\r\n                        ...values,\r\n                        createdProduct: undefined,\r\n                        error: data.error\r\n                    })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: \"\",\r\n                        description: \"\",\r\n                        price: \"\",\r\n                        photo: \"\",\r\n                        stock: \"\",\r\n                        loading: false,\r\n                        error: undefined,\r\n                        createdProduct: data.product.name,\r\n                        didRedirect: false\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"alert alert-success mt-3\"\r\n                style={{display: createdProduct ? \"\" : \"none\"}}\r\n            >\r\n                <h4>{createdProduct} created successfully</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"alert alert-warning mt-3\"\r\n                style={{display: error ? \"\" : \"none\"}}\r\n            >\r\n                <h4>Couldn't create product: {error}</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form>\r\n            <span>Post photo</span>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-block btn-success\">\r\n                    <input\r\n                        onChange={handleChange(\"photo\")}\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        accept=\"image\"\r\n                        placeholder=\"choose a file\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"name\")}\r\n                    name=\"photo\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Name\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n        <textarea\r\n            onChange={handleChange(\"description\")}\r\n            name=\"photo\"\r\n            className=\"form-control\"\r\n            placeholder=\"Description\"\r\n            value={description}\r\n        />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"price\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <select\r\n                    onChange={handleChange(\"category\")}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Category\"\r\n                >\r\n                    <option>Select</option>\r\n                    {categories && categories.map((category, index) => {\r\n                        return (\r\n                            <option key={index} value={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        )\r\n                    })}\r\n\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"stock\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Quantity\"\r\n                    value={stock}\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                onClick={handleSubmit}\r\n                className=\"btn btn-outline-success mb-3\"\r\n            >\r\n                Create Product\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n            title={\"Add a product here!\"}\r\n            description={\"This is the product creation section\"}\r\n            className={\"container bg-info p-4\"}\r\n        >\r\n            <Link\r\n                to={\"/admin/dashboard\"}\r\n                className={\"btn btn-md btn-dark mb-3\"}\r\n            >\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {createProductForm()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default AddProduct;","import React, {useEffect, useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getAllCategories, getProduct, updateProduct} from \"./helper/adminapicall\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\n\r\n\r\nfunction UpdateProduct({match}) {\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        stock: \"\",\r\n        photo: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        loading: false,\r\n        error: undefined,\r\n        createdProduct: undefined,\r\n        didRedirect: false,\r\n        formData: undefined\r\n    });\r\n\r\n    const {\r\n        name,\r\n        description,\r\n        price,\r\n        stock,\r\n        photo,\r\n        categories,\r\n        category,\r\n        loading,\r\n        error,\r\n        createdProduct,\r\n        didRedirect,\r\n        formData\r\n    } = values\r\n\r\n    const preload = (productId) => {\r\n        getProduct(productId).then(data => {\r\n            if (data.error) {\r\n                setValues({...values, error: data.error})\r\n            } else {\r\n                preloadCategories()\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description,\r\n                    price: data.price,\r\n                    category: data.category._id,\r\n                    stock: data.stock,\r\n                    formData: new FormData(),\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    const preloadCategories = () => {\r\n        getAllCategories()\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({...values, error: data.error})\r\n                } else {\r\n                    setValues({\r\n                        categories: data.foundCategories,\r\n                        formData: new FormData()\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload(match.params.productId)\r\n    }, []);\r\n\r\n    const handleChange = (key) => event => {\r\n        const value = key === \"photo\" ? event.target.files[0] : event.target.value\r\n        formData.set(key, value)\r\n        setValues({...values, [key]: value})\r\n    }\r\n\r\n    // TODO: Work on it.\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setValues({...values, error: \"\", loading: true})\r\n\r\n        updateProduct(match.params.productId, _id, token, formData)\r\n            .then(data => {\r\n                console.log(\"Data\", data)\r\n                if (!data.updatedProduct) {\r\n                    setValues({\r\n                        ...values,\r\n                        createdProduct: undefined,\r\n                        error: \"couldn't update\"\r\n                    })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: \"\",\r\n                        description: \"\",\r\n                        price: \"\",\r\n                        photo: \"\",\r\n                        stock: \"\",\r\n                        loading: false,\r\n                        error: undefined,\r\n                        createdProduct: data.updatedProduct.name,\r\n                        didRedirect: false\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"alert alert-success mt-3\"\r\n                style={{display: createdProduct ? \"\" : \"none\"}}\r\n            >\r\n                <h4>{createdProduct} updated successfully</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        return (\r\n            <div\r\n                className=\"alert alert-warning mt-3\"\r\n                style={{display: error ? \"\" : \"none\"}}\r\n            >\r\n                <h4>Couldn't update product</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form>\r\n            <span>Post photo</span>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn btn-block btn-success\">\r\n                    <input\r\n                        onChange={handleChange(\"photo\")}\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        accept=\"image\"\r\n                        placeholder=\"choose a file\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"name\")}\r\n                    name=\"photo\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Name\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n        <textarea\r\n            onChange={handleChange(\"description\")}\r\n            name=\"photo\"\r\n            className=\"form-control\"\r\n            placeholder=\"Description\"\r\n            value={description}\r\n        />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"price\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <select\r\n                    onChange={handleChange(\"category\")}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Category\"\r\n                >\r\n                    <option>Select</option>\r\n                    {categories && categories.map((category, index) => {\r\n                        return (\r\n                            <option key={index} value={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        )\r\n                    })}\r\n\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input\r\n                    onChange={handleChange(\"stock\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Quantity\"\r\n                    value={stock}\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                onClick={handleSubmit}\r\n                className=\"btn btn-outline-success mb-3\"\r\n            >\r\n                Update Product\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n            title={\"Add a product here!\"}\r\n            description={\"This is the product creation section\"}\r\n            className={\"container bg-info p-4\"}\r\n        >\r\n            <Link\r\n                to={\"/admin/dashboard\"}\r\n                className={\"btn btn-md btn-dark mb-3\"}\r\n            >\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {createProductForm()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default UpdateProduct;","import React, {useEffect, useState} from 'react';\r\nimport Base from \"../core/Base\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {getCategory, updateCategory} from \"./helper/adminapicall\";\r\n\r\nfunction UpdateCategory({match}) {\r\n    const [categoryName, setCategoryName] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const {user: {_id}, token} = isAuthenticated()\r\n\r\n    const preload = (categoryId) => {\r\n        getCategory(categoryId)\r\n            .then(data => {\r\n                setCategoryName(data.name)\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload(match.params.categoryId)\r\n    }, []);\r\n\r\n\r\n    const goBack = () => {\r\n        return (\r\n            <div className=\"mt-5\">\r\n                <Link to={\"/admin/dashboard\"} className={\"btn btn-sm btn-success mb-3\"}>\r\n                    Admin Home\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setError(\"\")\r\n        setCategoryName(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        setError(\"\")\r\n        setSuccess(false)\r\n\r\n        // Backend request firing\r\n        updateCategory(match.params.categoryId, _id, token, {name: categoryName})\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(data.error)\r\n                } else {\r\n                    setError(\"\")\r\n                    setSuccess(true)\r\n                    setCategoryName(\"\")\r\n                }\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if (success) {\r\n            return (\r\n                <h4 className=\"text-success\">\r\n                    Category updated successfully\r\n                </h4>\r\n            )\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if (error) {\r\n            return (\r\n                <h4 className={\"text-warning\"}>\r\n                    {`Failed to update category: ${error}`}\r\n                </h4>\r\n            )\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => {\r\n        return (\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <p className=\"lead\">\r\n                        Enter a name for your category.\r\n                    </p>\r\n                    <input\r\n                        type=\"text\"\r\n                        className={\"form-control my-3\"}\r\n                        onChange={handleChange}\r\n                        value={categoryName}\r\n                        autoFocus\r\n                        required\r\n                        placeholder={\"For e.g. Summer\"}\r\n                    />\r\n                    <button\r\n                        className=\"btn btn-outline-info\"\r\n                        onClick={handleSubmit}\r\n                    >\r\n                        Update Category\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base\r\n            title={\"Update a category here\"}\r\n            description={\"Update an existing T-shirt category\"}\r\n            className={\"container bg-info p-4\"}\r\n        >\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {myCategoryForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default UpdateCategory;","import React, {useState, useEffect} from 'react';\r\nimport {isAuthenticated} from \"../auth/helper\";\r\nimport {emptyOutCart, loadCart} from \"./helper/cartHelper\";\r\nimport {Link} from \"react-router-dom\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport {API} from \"../backend\";\r\nimport {createOrder} from \"./helper/orderHelper\";\r\n\r\nfunction StripeCheckoutComponent({products, reload, setReload}) {\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        error: undefined,\r\n        address: \"\"\r\n    });\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id\r\n    const token = isAuthenticated() && isAuthenticated().token\r\n\r\n    const getFinalAmount = () => {\r\n        let amount = 0\r\n        products.map(product => {\r\n            amount += product.price\r\n        })\r\n        return amount\r\n    }\r\n\r\n    const makePayment = (token) => {\r\n        const body = {\r\n            token,\r\n            products\r\n        }\r\n        const headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n        return fetch(`${API}/stripepayment`, {\r\n            method: \"POST\",\r\n            headers,\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(response => {\r\n                console.log(\"RESPONSE: \", response)\r\n                const {status} = response\r\n                console.log(\"STATUS: \", status)\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ERROR: \", err)\r\n            })\r\n    }\r\n\r\n    const showStripeButton = () => {\r\n        return isAuthenticated() ? (\r\n            <StripeCheckout\r\n                token={makePayment}\r\n                stripeKey={process.env.REACT_APP_PUBLISHABLE_KEY}\r\n                amount={getFinalAmount() * 100}\r\n                name={\"Buy T-Shirts\"}\r\n                shippingAddress\r\n                billingAddress\r\n            >\r\n                <button className=\"btn btn-success\">Pay with Stripe</button>\r\n            </StripeCheckout>\r\n        ) : (\r\n            <Link to={\"/login\"}>\r\n                <button className=\"btn btn-warning\">Login</button>\r\n            </Link>\r\n        )\r\n    }\r\n\r\n    // TODO: Implement error message.\r\n    const errorMessage = () => {\r\n        //\r\n    }\r\n\r\n    // TODO: Implement success message.\r\n    const successMessage = () => {\r\n        //\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3 className={\"text-white\"}>Stripe Checkout {getFinalAmount()}</h3>\r\n            {showStripeButton()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StripeCheckoutComponent;","import React, {useState, useEffect} from 'react';\r\nimport {loadCart, emptyOutCart} from \"./helper/cartHelper\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport {fetchPaymentToken, processPayment} from \"./helper/paymentbhelper\";\r\nimport {createOrder} from \"./helper/orderHelper\";\r\nimport {isAuthenticated} from \"../auth/helper\";\r\n\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nfunction PaymentB({products, setReload, reload}) {\r\n    const [info, setInfo] = useState({\r\n        loading: false,\r\n        success: false,\r\n        clientToken: null,\r\n        error: undefined,\r\n        instance: {}\r\n    });\r\n\r\n    const userId = isAuthenticated() && isAuthenticated().user._id\r\n    const token = isAuthenticated() && isAuthenticated().token\r\n\r\n    const getToken = (userId, token) => {\r\n        fetchPaymentToken(userId, token)\r\n            .then(info => {\r\n                // console.log(\"INFORMATION\", info)\r\n                if (info) {\r\n                    if (info.error) {\r\n                        setInfo({...info, error: info.error})\r\n                    } else {\r\n                        const clientToken = info.clientToken\r\n                        setInfo({...info, clientToken})\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    const showBTDropIn = () => {\r\n        return (\r\n            <div>\r\n                {info.clientToken != null && products && products.length > 0 ? (\r\n                    <div>\r\n                        <DropIn\r\n                            options={{ authorization: info.clientToken }}\r\n                            onInstance={(instance) => (info.instance = instance)}\r\n                        />\r\n                        <button\r\n                            className={\"btn btn-success btn-block\"}\r\n                            onClick={() => {onPurchase()}}\r\n                        >\r\n                            Make Payment\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <h3>\r\n                        {(products && products.length < 1) ? \"Please Add something to the cart\" : \"\"}\r\n                        {userId ? \"\" : \"Please login first before you make a purchase\"}\r\n                    </h3>\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        getToken(userId, token)\r\n    }, []);\r\n\r\n    const onPurchase = () => {\r\n        setInfo({...info, loading: true})\r\n        let nonce;\r\n        let getNonce = info.instance\r\n            .requestPaymentMethod()\r\n            .then(data => {\r\n                nonce = data.nonce\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: getAmount()\r\n                }\r\n                processPayment(userId, token, paymentData)\r\n                    .then(response => {\r\n                        setInfo({...info, success: response.success, loading: false})\r\n                        console.log(\"PAYMENT SUCCESS\")\r\n                        const orderData = {\r\n                            products: products,\r\n                            transaction_id: response.transaction.id,\r\n                            amount: response.transaction.amount\r\n                        }\r\n                        createOrder(userId, token, orderData)\r\n                            .then(response => {\r\n                                console.log(\"CREATE ORDER: \", response)\r\n                            })\r\n                            .catch(err => {\r\n                                console.log(err)\r\n                            })\r\n                        emptyOutCart(() => {\r\n                            console.log(\"Did we get a crash?\")\r\n                        })\r\n                        setReload(!reload)\r\n                    })\r\n                    .catch(err => {\r\n                        setInfo({...info, loading: false, success: false, error: err})\r\n                        console.log(\"PAYMENT FAILURE\")\r\n                    })\r\n            })\r\n    }\r\n\r\n    const getAmount = () => {\r\n        let amount = 0\r\n        if (products) {\r\n            products.map(product => {\r\n                amount += product.price\r\n            })\r\n            return amount\r\n        }\r\n        return \"0\"\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Your bill amount is: ${getAmount()}</h3>\r\n            {showBTDropIn()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaymentB;","import {API} from \"../../backend\";\r\n\r\nexport const fetchPaymentToken = (userId, token) => {\r\n    return fetch(`${API}/payment/gettoken/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n    return fetch(`${API}/payment/braintree/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentInfo)\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n","import {API} from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order: orderData})\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {API} from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport Card2 from \"./Card2\";\r\nimport {getAllProducts} from \"./helper/coreapicalls\";\r\nimport {loadCart} from \"./helper/cartHelper\";\r\nimport StripeCheckout from \"./StripeCheckout\";\r\nimport PaymentB from \"./PaymentB\";\r\n\r\nfunction Cart(props) {\r\n    const [products, setProducts] = useState([]);\r\n    const [reload, setReload] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setProducts(loadCart())\r\n    }, [reload]);\r\n\r\n\r\n    const loadAllProducts = () => {\r\n        return (\r\n            <div>\r\n                <h2>This section is to load products</h2>\r\n                <hr/>\r\n                {products.map((product, index) => {\r\n                    return (\r\n                        <Card2\r\n                            key={index}\r\n                            product={product}\r\n                            addToCart={false}\r\n                            removeFromCart={true}\r\n                            reload={reload}\r\n                            setReload={setReload}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loadCheckout = () => {\r\n        return (\r\n            <div>\r\n                <h2>This section is for checkout</h2>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title={\"Cart Page\"} description={\"Ready to checkout\"}>\r\n            <div className=\"row text-center\">\r\n                <div className=\"col-6\">\r\n                    {\r\n                        (products && products.length > 0) ?\r\n                            loadAllProducts() :\r\n                            (<h3>No Products in your cart</h3>)\r\n                    }\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <h2>\r\n                        <PaymentB\r\n                            products={products}\r\n                            reload={reload}\r\n                            setReload={setReload}\r\n                        />\r\n                    </h2>\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n\r\nexport default Cart;","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\nimport Home from \"./core/Home\";\r\nimport Home2 from \"./core/Home2\";\r\nimport Register from \"./user/Register\";\r\nimport Login from \"./user/Login\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashboard from \"./user/UserDashboard\";\r\nimport AdminDashboard from \"./user/AdminDashboard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport ManageProducts from \"./admin/ManageProducts\"\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nfunction Routes(props) {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route path={\"/\"} exact component={Home2}/>\r\n                <Route path={\"/register\"} exact component={Register}/>\r\n                <Route path={\"/login\"} exact component={Login}/>\r\n                <Route path={\"/cart\"} exact component={Cart}/>\r\n                <PrivateRoute path={\"/user/dashboard\"} exact component={UserDashboard}/>\r\n                <AdminRoute path={\"/admin/dashboard\"} exact component={AdminDashboard}/>\r\n                <AdminRoute path={\"/admin/create/category\"} exact component={AddCategory}/>\r\n                <AdminRoute path={\"/admin/categories\"} exact component={ManageCategories}/>\r\n                <AdminRoute path={\"/admin/create/category\"} exact component={AddCategory}/>\r\n                <AdminRoute path={\"/admin/create/product\"} exact component={AddProduct}/>\r\n                <AdminRoute path={\"/admin/products\"} exact component={ManageProducts}/>\r\n                <AdminRoute path={\"/admin/product/update/:productId\"} exact component={UpdateProduct}/>\r\n                <AdminRoute path={\"/admin/category/update/:categoryId\"} exact component={UpdateCategory}/>\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default Routes;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Routes from \"./Routes\";\r\nimport \"./css/style.css\"\r\n\r\nReactDOM.render(<Routes/>, document.getElementById(\"root\"))\r\n"],"sourceRoot":""}